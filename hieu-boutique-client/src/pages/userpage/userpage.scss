// User page styles: improved form layout, required indicators, focus states
$brand: #6b2aa8; // purple
$accent: #1155ff; // blue
$danger: #e53935;
$muted: #8a8a8a;
$profile-accent: #c21; // brand red for profile highlights

.userpage{
    display: grid;
    grid-template-columns: 240px 1fr;
    gap: 28px;
    max-width: 1200px;
    width: calc(100% - 40px);
    margin: 30px auto 60px;
    padding: 0 20px;
    .sidebar{
        &_avt{
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 18px;
            img{
                width: 56px;
                height: 56px;
                border-radius: 50%;
                border: 2px solid rgba(107,42,168,0.12);
                box-shadow: 0 2px 6px rgba(0,0,0,0.06);
                object-fit: cover;
            }
            &_username{
                display: flex;
                flex-direction: column;
                p:first-child{
                    font-weight: 700;
                }
                p:last-child{
                    margin-top: 10px;
                    font-size: 12px;
                    font-weight: 700;
                    opacity: .95;
                    cursor: pointer;
                    color: $profile-accent; // 'Sửa hồ sơ' link to red
                }
            }
        }
        ul{
            li{
                line-height: 40px;
                font-weight: 600;
                color: $profile-accent;
                &:hover{
                    transition: .2s all linear;
                    color: darken($profile-accent, 8%);
                    cursor: pointer;
                }
            }
            ul{
                li{
                    margin-left: 20px; 
                    font-size: 14px;
                }
            }
        }
        // Revert nested sidebar nav list links to black
        .sidebar_nav_list{
            li{
                a{
                    color: #000;
                    font-weight: 700;
                    transition: color .12s ease;
                }
                a:hover{
                    color: #000;
                }
            }
        }
        // Ensure top sidebar links (Sửa hồ sơ, Tài khoản của tôi) are red
        .sidebar_avt a,
        .sidebar_nav > ul > li > a{
            color: $profile-accent;
            font-weight: 700;
        }
    }
    .board{
        padding: 20px;
        box-shadow: 0 0 3px 0 rgb(203, 203, 203);
        .profile{
            &_header{
                margin-bottom: 18px;
                padding-bottom: 14px;
                border-bottom: 1px solid #e6e6e6;
                p:first-child{
                    font-size: 20px;
                    font-weight: 700;
                    color: $profile-accent; // 'Hồ sơ của tôi' title to red
                }
                p:last-child{
                    font-size: 14px;
                    color: $muted;
                }
                .required-note{
                    margin-top: 8px;
                    font-size: 13px;
                    color: $muted;
                }
            }
            &_form{
                display: grid;
                grid-template-columns: 140px 1fr 260px;
                gap: 14px;
                .label-list{
                    display: grid;
                     grid-auto-rows: 30px;
                     gap: 10px;
                    label, p{
                        height: 100%;
                        font-size: 15px;
                        text-align: right;
                        color: darken($muted, 8%);
                        font-weight: 600;
                    }
                    // mark required labels
                    label.required::after{
                        content: '*';
                        color: $danger;
                        margin-left: 8px;
                        font-weight: 700;
                        vertical-align: middle;
                    }
                    // show a subtle required hint for all labels (explicit required inputs are styled below)
                    label::after{
                        content: '';
                        display: inline-block;
                        width: 6px;
                        height: 6px;
                        margin-left: 8px;
                        border-radius: 50%;
                        background: transparent;
                        vertical-align: middle;
                        opacity: 0.0;
                    }
                }
                .input-list{
                    display: grid;
                     grid-template-columns: 1fr;
                     grid-auto-rows: 30px;
                     gap: 10px;
                     align-self: center;
                    margin-left: 30px;
                    border-right: 1px solid #c0c0c0;
                    input:not([type="radio"]){
                        width: 100%;
                        max-width: 420px;
                        padding: 10px 12px;
                        border-radius: 8px;
                        border: 1px solid #d0d0d0;
                        transition: all .18s ease-in-out;
                        background: #fff;
                        font-size: 14px;
                    }
                    input[type="tel"], input[type="email"], input[type="text"], input[type="date"]{
                        -webkit-appearance: none;
                    }
                    textarea{
                        min-height: 90px;
                        padding: 10px 12px;
                        border-radius: 8px;
                        border: 1px solid #d0d0d0;
                        resize: vertical;
                    }
                    // required inputs get stronger visual treatment
                    input[required], textarea[required]{
                        border-color: $danger;
                        box-shadow: 0 0 0 4px rgba(#e53935, 0.06);
                    }
                    // focus state
                    input:focus, textarea:focus{
                        outline: none;
                        border-color: $brand;
                        box-shadow: 0 4px 18px rgba($brand, 0.08);
                    }
                }
                .infor_avt{
                    display: flex;
                     flex-direction: column;
                     align-items: center;
                     gap: 20px;
                    &_img{
                        width: 150px;
                        height: 150px;
                        border-radius: 50%;
                        aspect-ratio: 1;
                        border: 2px solid rgba(0,0,0,0.06);
                        background-size: cover;
                        background-position: center;
                        position: relative;
                        overflow: hidden;
                    }
                    .edit-avatar-btn{
                        margin-top: 6px;
                        font-size: 14px;
                        width: 120px;
                        height: 40px;
                        display: inline-flex;
                        align-items: center;
                        justify-content: center;
                        background: $profile-accent;
                        color: #fff;
                        cursor: pointer;
                        border: 2px solid darken($profile-accent, 6%);
                        border-radius: 8px;
                        box-shadow: 0 6px 18px rgba($profile-accent, 0.12);
                        transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
                    }
                    .edit-avatar-btn:hover{
                        transform: translateY(-2px);
                        background: darken($profile-accent, 4%);
                        box-shadow: 0 10px 24px rgba($profile-accent, 0.18);
                    }
                    input{
                        display: none;
                    }
                    label{
                        width: 120px;
                        line-height: 40px;
                        text-align: center;
                        font-size: 14px;
                        font-weight: 700;
                        box-shadow: 0 0 3px 0 rgba(0,0,0,0.06);
                        cursor: pointer;
                        border-radius: 6px;
                        background: #fff;
                        color: $profile-accent;
                    }
                    p{
                        font-size: 12px;
                        margin-top: 10px;
                        opacity: .6;
                    }
                }
                /* Bank selection styles */
                .bank{
                    .bank-form{
                        display: grid;
                        grid-template-columns: 1fr;
                        gap: 10px;
                        margin-top: 8px;
                    }
                    .bank-label{ font-weight: 700; margin-bottom: 6px; }
                    .bank-grid{
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                        gap: 12px;
                        margin-bottom: 6px;
                    }
                    .bank-card{
                        display:flex;
                        flex-direction:column;
                        align-items:center;
                        gap:8px;
                        padding:12px;
                        background:#fff;
                        border-radius:10px;
                        border:1px solid #e6e6e6;
                        cursor:pointer;
                        transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
                        text-align:center;
                    }
                    .bank-card img{ max-width:86px; max-height:48px; object-fit:contain; display:block }
                    .bank-card .bank-name{ font-size:13px; color:#333 }
                    .bank-card .bank-fallback{ width:64px; height:40px; display:flex; align-items:center; justify-content:center; background:#f2f2f2; border-radius:6px; font-weight:800; color:#555 }
                    .bank-card:hover{ transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,0.06); border-color: rgba(107,42,168,0.12); }
                    .bank-card.selected{ border-color: $brand; box-shadow: 0 8px 24px rgba(107,42,168,0.12); }
                    .bank-card:focus{ outline: none; box-shadow: 0 10px 28px rgba(107,42,168,0.14); transform: translateY(-4px); }
                    /* Ensure card content centered and consistent */
                    .bank-card{ padding-top:14px; padding-bottom:14px; }
                    .bank-card .bank-name{ margin-top:6px }
                    @media (max-width: 720px){
                        .bank-grid{ grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
                    }
                }
                // save toast
                .save-toast{
                    margin-top: 12px;
                    padding: 10px 14px;
                    border-radius: 8px;
                    font-weight: 700;
                    text-align: center;
                    min-width: 200px;
                    box-shadow: 0 6px 18px rgba(0,0,0,0.06);
                }
                .save-toast.success{ background: #e9f7ef; color: #12643a; }
                .save-toast.error{ background: #fff1f0; color: #7a1620; }
                .infor_list_btn{
                    background: $profile-accent; /* red background */
                    width: 120px;
                    height: 44px;
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    padding: 6px 14px; /* nudge text a bit upward */
                    border: 2px solid darken($profile-accent, 6%);
                    border-radius: 8px;
                    outline: none;
                    font-size: 15px;
                    font-weight: 700;
                    color: #fff; /* white text */
                    box-shadow: 0 6px 18px rgba($profile-accent, 0.12);
                    cursor: pointer;
                    transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
                }
                .infor_list_btn:hover{
                    transform: translateY(-2px);
                    box-shadow: 0 10px 24px rgba($profile-accent, 0.18);
                    background: darken($profile-accent, 4%);
                }

                // Make the save button centered inside the input grid
                .infor_list_btn{
                    justify-self: center;
                    margin-top: 6px;
                }

                // Change most profile text color (previously red) — now use black
                $profile-red: #000;
                .label-list label,
                .input-list input,
                .input-list textarea,
                .infor_avt p {
                    color: $profile-red;
                }

                // Ensure the username display, name-related labels and username paragraph use the same black color
                .label-list label[for="username"],
                .label-list label[for="name"],
                .input-list p { /* username paragraph */
                    color: $profile-red;
                }
            }
        }
        .order{
            &_title{
                width: 100%;
                height: 40px;
                margin-bottom: 10px;
                line-height: 40px;
                font-size: 18px;
                font-weight: 700;
            }
            &_list{
                &_item{
                    background-color: #e9e9e9;
                    padding: 20px;
                    margin-bottom: 20px;
                    border-radius: 4px;
                    &_header{
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        padding-bottom: 10px;
                        font-size: 14px;
                        &>p{
                            font-weight: 700;
                            opacity: .7;
                        }
                        .state{
                            color: green;
                        }
                        .cancled{
                            color: red;
                        }
                        .oder-status{
                            margin-left: 5px;
                            padding-left: 10px;
                            border-left: 1px solid #00000046;
                        }
                    }
                    &_list{
                        border-top: #00000050 1px solid;
                        .item{
                            display: grid;
                            grid-template-columns: 70px 1fr 200px;
                            gap: 10px;
                            padding: 10px 0;
                            border-bottom: #00000050 1px solid;
                            img{
                                width: 100%;
                                aspect-ratio: 1;
                                object-fit: cover;
                                border-radius: 4px;
                            }
                            .infor{
                                display: flex;
                                flex-direction: column;
                                justify-content: space-between;
                                font-size: 12px;
                                .free{
                                    width: 170px;
                                    text-align: center;
                                    color: rgb(0, 128, 90);
                                    border: 1px solid rgb(0, 128, 90);
                                }
                            }
                            .price{
                                text-align: right;
                                font-size: 14px;
                            }
                        }
                    }
                    &_footer{
                        font-size: 14px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        margin: 20px 0 0;
                        .footer-btn{
                            display: flex;
                            gap: 10px;
                        }
                    }
                }
                .btn{
                    padding: 5px 10px;
                    border: 1px solid #00000046;
                    border-radius: 4px;
                    cursor: pointer;
                }
                .bg-black{
                    background-color: #000000;
                    color: white;
                }
            }
        }
    }
}