/* Cleaned and restructured header styles to avoid Sass nesting issues
     Keeps original visual rules but flattens nesting for reliability. */

/* Header base */
/* global header & promo height variables */
:root{
    --header-height: 72px;
    --header-height-mobile: 56px;
    --promo-height: 44px;
    --promo-height-mobile: 44px;
}

/* Header (fixed below promo bar) */
.header{
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    /* sit immediately under the promo bar */
    top: var(--promo-height);
    left: 0;
    right: 0;
    height: var(--header-height);
    z-index: 50002;
    background: rgba(255,255,255,0.95);
    /* Apply backdrop blur when supported; provide vendor prefix for Safari/WebKit */
    @supports ((-webkit-backdrop-filter: blur(6px)) or (backdrop-filter: blur(6px))) {
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
    }
    border-bottom: 1px solid rgba(188,193,202,0.36);
    /* reduce left/right padding so logo sits closer to page edge */
    padding: 8px 64px 8px 64px; /* increase left/right inset so header content is shifted further inward from page edge */
}

/* thin red accent strip at the very top (visual only) */
.header::before{
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    height: 6px;
    background: var(--brand-red, #c62828);
    z-index: 50003;
}

/* Ensure page content is pushed below the fixed promo + header */
body{ padding-top: calc(var(--promo-height) + var(--header-height)); }

/* slide-away behavior when scrolling down */
/* When hiding, move both header and promo together by the same combined height so neither peeks out */
body.header-hidden .header{
    transform: translateY(calc(-1 * (var(--promo-height) + var(--header-height))));
    transition: transform .26s ease;
    pointer-events: none; /* avoid interacting while hidden */
}
/* make the header transition smooth when showing again */
.header{ transition: transform .26s ease; will-change: transform }

.logo_name{
    font-weight: 700;
    font-size: 22px; /* slightly larger */
    width: auto;
    margin-left:0;
    color: var(--brand-red, #c62828);
    letter-spacing: 0.4px;
    white-space: nowrap;
    line-height: 1; /* keep vertical centering neat */
}

    /* (no duplicated .header block here) */
.logo{ display:inline-flex; align-items:center; gap:12px }

/* Logo sizing */
.logo_img img{ height:40px; width:auto; display:block }

/* Mobile toggle hidden by default; shown in mobile media query */
.mobile-toggle{ display:none; align-items:center; justify-content:center; width:40px; height:40px; border-radius:8px; background:transparent; border:0 }
        body{ padding-top: calc(var(--promo-height-mobile) + var(--header-height-mobile)); }
        .header{
            height: var(--header-height-mobile);
            top: var(--promo-height-mobile);
        }
/* Place name beside logo and align them */
.logo_img{ display:inline-flex; align-items:center; gap:8px; margin-right:6px }
.header .logo_name{ display:inline-flex; align-items:center; margin:0; padding:0; }

/* Make feature icons the same size (logo excluded) */
.feature_img,
.sale-icon,
.feature_btn img,
.feature_btn svg,
.feature_notif img,
.feature_notif svg{ width:22px; height:22px; }

/* Option row used in various dropdowns / menus */
.header .opt {
    display: flex !important;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 15px;
    font-weight: 700;
    padding: 6px 8px;
}

.header .opt:hover{ opacity: 0.85 }

.header .opt + .opt{ margin-left: 12px }

/* Scrollbar helpers used for dropdowns */
.opt-list{ scrollbar-color: rgba(0,0,0,0.08) transparent }
.opt-list::-webkit-scrollbar{ width: 3px }
.opt-list::-webkit-scrollbar-thumb{ background: rgba(0,0,0,0.6) }
.opt-list::-webkit-scrollbar-track{ background-color: transparent }

.opt-list-outter{ overflow: hidden; height: 100%; display:flex }
.opt-list-outter .opt{ margin: 0 12px }

/* Navigation - tuned to match screenshot: centered nav, wider spacing */
.navigation{ display:flex; justify-content:center; align-items:center; gap:32px; flex: 1 1 auto; max-width:820px; margin:0 auto }
.nav-t1{ text-decoration:none; font-size:18px; font-weight:700; color:#000; display:inline-flex; align-items:center; gap:8px; padding:6px 4px }

/* Header focus reset (high-specificity) */
.header a:focus, .header a:focus-visible, .header button:focus, .header button:focus-visible{ outline:none !important; box-shadow:none !important; outline-offset:0 !important }

.nav-before-link{ display:inline-flex; align-items:center; text-decoration:none; margin-right:12px }
.nav-before-text{ display:inline-flex; align-items:center; justify-content:center; background: var(--brand-red, #c62828); color:#fff; font-weight:800; padding:6px 14px; height:32px; line-height:20px; border-radius:16px; font-size:13px; box-shadow:0 6px 18px rgba(198,40,40,0.10); letter-spacing:1px }
.nav-before-link:hover .nav-before-text{ transform: translateY(-2px); transition: transform .12s ease }

/* Mega menu panel */
.nav-t2{ display:none; position:absolute; top:64px; left:50%; transform: translateX(-50%); background:#fff; width: min(900px, var(--max-width)); max-width: calc(100% - 32px); padding:18px 20px; box-shadow: 0 0 6px 0 #00000025; border-radius:10px }
.nav-t2 .nav-list{ display:grid; grid-template-columns: repeat(4,1fr); gap:20px 28px; align-items:start }
.nav-t2 .nav-t2_menu_collection_opt .collection-thumb{ display:inline-flex; width:28px; height:28px; border-radius:6px; align-items:center; justify-content:center; background: linear-gradient(135deg,#7b1fa2,#ce93d8); color:#fff; font-weight:700; font-size:11px }

.nav-t2_menu_products{ margin-top:6px; list-style:none; padding:0 }
.nav-t2_menu_products li{ margin-bottom:6px }
.nav-t2_menu_products a{ font-size:13px; color:var(--header-content,#000); text-decoration:none }

/* Feature area (right side) */
.feature{ display:flex; justify-content:flex-end; align-items:center; gap:12px; position:relative; margin-right:12px; flex-shrink:0 }
.feature-img, .feature_img{ height:16px; width:16px; display:inline-block; object-fit:contain }

/* Modern notification / feature icon box
   Both `.feature_notif` and `.feature_icon_box` share the same visual treatment
   (rounded white container, shadow, border) so cart and notif appear identical. */
.feature_notif{
    --size: 42px;
    width: var(--size);
    height: var(--size);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border-radius:50%;
    background: linear-gradient(180deg, #ffffff 0%, #fbfbfb 100%);
    cursor:pointer;
    position:relative;
    box-shadow: 0 10px 24px rgba(12,16,20,0.06), 0 2px 6px rgba(12,16,20,0.04);
    border: 1px solid rgba(15,20,25,0.04);
    transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease, background .18s ease;
}
.feature_notif:hover{ transform: translateY(-4px); box-shadow: 0 16px 36px rgba(12,16,20,0.10), 0 4px 12px rgba(12,16,20,0.06); background: linear-gradient(180deg,#fff,#f6f7f8) }
.feature_notif:active{ transform: translateY(-1px) scale(.99) }

/* Icon inside notification should be slightly smaller and inherit color */
.feature_notif svg, .feature_notif img{ width:20px; height:20px; display:block; color:currentColor; }

/* Cart / other feature icon box (rounded square) */
.feature_icon_box{
    --size: 42px;
    width: var(--size);
    height: var(--size);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border-radius:12px;
    background: linear-gradient(180deg, #ffffff 0%, #fbfbfb 100%);
    cursor:pointer;
    position:relative;
    box-shadow: 0 10px 24px rgba(12,16,20,0.06), 0 2px 6px rgba(12,16,20,0.04);
    border: 1px solid rgba(15,20,25,0.04);
    transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease, background .18s ease;
}
.feature_icon_box:hover{ transform: translateY(-4px); box-shadow: 0 16px 36px rgba(12,16,20,0.10), 0 4px 12px rgba(12,16,20,0.06); background: linear-gradient(180deg,#fff,#f6f7f8) }
.feature_icon_box:active{ transform: translateY(-1px) scale(.99) }
.feature_icon_box svg, .feature_icon_box img{ width:20px; height:20px; display:block; color:currentColor; }

/* Count badge (shows numbers) - place slightly outside the icon for better visibility */
/* notification badge: keep original circular placement slightly outside top-right */
.feature_notif .notif-badge{ position:absolute; top:-8px; right:-8px; z-index:40; min-width:20px; height:20px; padding:0 6px; display:inline-flex; align-items:center; justify-content:center; background:var(--brand-red,#c62828); color:#fff; font-size:12px; font-weight:800; border-radius:999px; box-shadow: 0 8px 20px rgba(198,40,40,0.18); border:3px solid #fff }

/* Cart count badge should visually match the notification badge */
.cart-count-badge{
    position:absolute;
    top:0;
    right:0;
    transform: translate(70%,-60%);
    z-index:40;
    width:22px;
    height:22px;
    padding:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:var(--brand-red,#c62828);
    color:#fff;
    font-size:12px;
    font-weight:800;
    border-radius:50%;
    box-shadow: 0 8px 20px rgba(198,40,40,0.18);
    border:3px solid #fff;
}

/* Small pulsing dot (use when there is no numeric count) */
.feature_notif .notif-dot{ position:absolute; top:8px; right:8px; width:10px; height:10px; background:var(--brand-red,#c62828); border-radius:50%; box-shadow:0 6px 18px rgba(198,40,40,0.16); border:2px solid #fff; animation: notif-pulse 1.6s infinite; }

@keyframes notif-pulse{ 0%{ transform:scale(.9); opacity:1 } 70%{ transform:scale(1.6); opacity:0 } 100%{ transform:scale(.9); opacity:0 } }

/* numeric badge on top of notification icon */
/* fallback/secondary definition (kept for specificity) */
/* fallback/responsive handled below */

/* Notification panel (anchored to top-right under the header) */
.notif-panel{
    /* Use fixed positioning so the panel is not clipped by header/container overflow
       and so it displays above dev overlays (Vite) when necessary. */
    position: fixed;
    /* center the panel horizontally in the viewport */
    left: 50%;
    transform: translateX(-50%);
    /* place the panel just under the fixed header + promo */
    top: calc(var(--promo-height) + var(--header-height) + 6px);
    /* clamp panel width to a reasonable maximum so it doesn't stretch too wide on large screens */
    width: min(980px, calc(100vw - 96px));
    max-height: 80vh;
    background: #fff;
    border-radius: 12px;
    overflow-x: hidden; /* prevent horizontal scrollbar */
    box-shadow: 0 18px 40px rgba(11,11,11,0.14);
    z-index: 2147483647; /* very high to render above dev overlays and other portals */
    display:flex;
    flex-direction:column;
    overflow:visible;
    animation: notif-panel-in .18s ease;
    will-change: transform;
}
.notif-panel-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(0,0,0,0.04) }
.notif-panel-header h4{ margin:0; font-size:16px; font-weight:800 }
.notif-close{ background:transparent; border:0; font-size:20px; line-height:1; cursor:pointer; color:rgba(0,0,0,0.6) }
.notif-markall{ background:transparent; border:1px solid rgba(0,0,0,0.06); padding:8px 10px; border-radius:8px; font-weight:800; cursor:pointer; margin-right:6px }
.notif-panel-body{ padding:12px; overflow-y:auto; overflow-x:hidden }
.notif-panel-body{ scrollbar-color: var(--brand-red,#c62828) transparent }

/* WebKit scrollbar styling for the vertical scrollbar inside the panel body */
.notif-panel-body::-webkit-scrollbar{ width:12px }
.notif-panel-body::-webkit-scrollbar-track{ background: transparent }
.notif-panel-body::-webkit-scrollbar-thumb{ background: var(--brand-red,#c62828); border-radius:8px; border:3px solid rgba(255,255,255,0.6) }
.notif-item{ padding:16px; border-radius:8px; background:linear-gradient(180deg,#fff,#fbfbfb); margin-bottom:14px; box-shadow: 0 6px 18px rgba(11,11,11,0.04); display:flex; align-items:center; gap:16px }
.notif-item.unread{ border-left:4px solid var(--brand-red,#c62828); background: linear-gradient(180deg,#fff,#fff) }
.notif-item.read{
    /* keep read items visible but muted */
    background: #f7f7f9;
    color: rgba(0,0,0,0.55);
    border-left: 4px solid transparent;
}
.notif-item-inner{ display:flex; gap:12px; width:100%; border:0; background:transparent; text-align:left; padding:0; cursor:pointer; align-items:center }
.notif-left{ display:flex; align-items:center }
.notif-cat{ width:44px; height:44px; border-radius:8px; background:#f4f4f6; display:inline-flex; align-items:center; justify-content:center; font-weight:800; color:#111; flex-shrink:0 }
.notif-cat.order{ background:#ffe9e9; color: #c62828 }
.notif-cat.promo{ background:#fff6e6; color:#f39c12 }
.notif-cat.general{ background:#f4f4f6; color:#111 }
.notif-main{ flex:1; min-width:0; display:flex; align-items:center; gap:12px }
/* ensure full text shows on one line (no truncation) on wide screens */
.notif-main .notif-title, .notif-main .notif-body{ white-space:nowrap; overflow:visible; text-overflow:clip }
.notif-title{ font-weight:800 }
.notif-meta{ font-size:12px; color:rgba(0,0,0,0.44); margin-left:8px }
.notif-body{ font-size:14px; color:rgba(0,0,0,0.8); margin-left:6px }
.notif-actions{ display:flex; align-items:center; flex-shrink:0 }
.small-mark{ background:transparent; border:1px solid rgba(0,0,0,0.06); padding:6px 8px; border-radius:8px; font-weight:700; cursor:pointer; transition: color .12s ease, border-color .12s ease, background .12s ease }
/* when item is read, keep the whole item muted and render the mark button in muted tones
   (showing 'Chưa đọc' to allow toggling back). This avoids using the red accent for the read state. */
.notif-item.read .small-mark,
.small-mark.is-read{
    color: rgba(0,0,0,0.55);
    border-color: rgba(0,0,0,0.06);
    background: transparent;
}

/* delete button for a single notification */
.small-delete{ background:transparent; border:1px solid rgba(0,0,0,0.06); padding:6px 8px; border-radius:8px; font-weight:700; cursor:pointer; margin-left:8px }
.small-delete:hover{ background: rgba(0,0,0,0.03) }
.small-delete.danger{ color: var(--brand-red,#c62828); border-color: rgba(198,40,40,0.12); }
.notif-title{ font-weight:800; margin-bottom:6px }
.notif-meta{ font-size:12px; color:rgba(0,0,0,0.44); margin-bottom:8px }
.notif-body{ font-size:14px; color:rgba(0,0,0,0.8) }
.notif-empty{ padding:24px; text-align:center; color:rgba(0,0,0,0.6) }
.notif-panel-footer{ padding:12px; border-top:1px solid rgba(0,0,0,0.04); display:flex; justify-content:center }
.notif-login-btn{ background:var(--brand-red,#c62828); color:#fff; border-radius:8px; padding:8px 12px; border:0; cursor:pointer; font-weight:800 }

.notif-footer-note{ color:rgba(0,0,0,0.6); font-size:13px }
.notif-footer-note a{ color:var(--brand-red,#c62828); font-weight:800; text-decoration:underline; margin-left:6px }

@keyframes notif-panel-in{ from{ transform: translateX(-50%) translateY(-6px); opacity:0 } to{ transform: translateX(-50%) translateY(0); opacity:1 } }

@media (max-width:900px){
    .notif-panel{ left:8px; right:8px; top: calc(var(--promo-height-mobile) + var(--header-height-mobile) + 6px); width: auto; max-height: 75vh; padding: 8px; transform: none }
    /* ensure badge remains visible when close to edges on small screens */
    .feature_notif .notif-badge{ right:-6px; top:-6px; min-width:18px; height:18px; border-width:2px }
    .cart-count-badge{ right:0; top:0; transform: translate(55%,-55%); min-width:18px; height:18px; border-width:2px }
}

.feature_btn{ display:inline-flex; align-items:center; justify-content:center; width:34px; height:34px; border-radius:8px; background:transparent; transition: background .12s ease, transform .12s ease; vertical-align:middle; line-height:0 }
.feature_btn:hover{ background: rgba(0,0,0,0.03); transform: translateY(-2px) }

/* Personal dropdown */
.feature_personal{ position:relative }
.feature_personal_sel{ display:none; /* render as absolute under header so it doesn't jump; keep overflow visible to avoid scrollbar */
    position: absolute; top: calc(100% + 6px); right: 12px; background:#fff; min-width:240px; max-width:320px; padding:6px; border-radius:10px; text-align:left; box-shadow:0 10px 24px rgba(11,11,11,0.10); z-index:60000; max-height:none; overflow:visible }
.feature_personal_sel.open{ display:block }
.feature_personal_sel .opt{ display:block; margin:6px 4px; font-size:14px; line-height:1.4; border-radius:8px }
.feature_personal_sel .opt + .opt{ border-top:1px solid rgba(0,0,0,0.04) }
/* Icon and label on the same row, centered vertically */
.feature_personal_sel .opt-link{ display:flex; flex-direction:row; align-items:center; gap:12px; width:100%; padding:10px 12px; text-decoration:none; color: var(--brand-red, #c62828); font-weight:700; background:transparent; border:0; text-align:left }
.feature_personal_sel button.opt-link{ background:transparent; border:none; padding:10px 12px; color:inherit; font:inherit; -webkit-appearance:none; appearance:none; cursor:pointer; text-align:left }
.feature_personal_sel .opt-icon{ width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center; color:inherit; border-radius:8px; background:transparent; flex-shrink:0 }
.feature_personal_sel .opt-icon img, .feature_personal_sel .opt-icon svg{ width:18px; height:18px; display:block }
.feature_personal_sel .opt-label{ color: var(--brand-red, #c62828); font-weight:700; display:block; font-size:15px }

/* Search input inside header - refreshed look: rounded, soft shadow, focus state */
.header_search{ display:flex; align-items:center; gap:8px; background:#fff; border-radius:14px; padding:6px 10px; border:1px solid rgba(0,0,0,0.06); box-shadow: 0 8px 24px rgba(11,11,11,0.04); max-width:520px; width:100%; }
.header_search .search-icon{ display:inline-flex; align-items:center; justify-content:center; color:rgba(0,0,0,0.36); width:28px; height:28px }
.header_search .search-header{ flex:1; padding:10px 8px; outline:none; font-size:15px; border:0; background:transparent; color:rgba(0,0,0,0.92); }
.header_search .search-header::placeholder{ color: rgba(0,0,0,0.34); }
.header_search:focus-within{ box-shadow: 0 12px 34px rgba(198,40,40,0.06); border-color: rgba(198,40,40,0.12); }

/* compact variant for the thin promo area (if used there) */
.promo .header_search{ border-radius:10px; padding:6px 8px; max-width:360px }

@media (max-width:900px){
    .header_search{ max-width:320px }
    .promo .header_search{ max-width:260px }
}

/* Mobile adjustments */
@media (max-width:900px){
    .header{ padding:0 32px; height:var(--header-height-mobile); top: var(--promo-height-mobile); }
    .navigation{ display:none }
    .mobile-toggle{ display:inline-flex; width:40px; height:40px; align-items:center; justify-content:center; border-radius:8px; background:#fff; border:1px solid rgba(0,0,0,0.06); box-shadow:0 6px 18px rgba(0,0,0,0.06); }
    .logo_img img{ height:48px }
    .header .logo_name{ font-size:16px }
    /* reduce body offset on small screens */
    body{ padding-top: calc(var(--promo-height-mobile) + var(--header-height-mobile)); }
    .feature{ gap:8px }
    .feature_btn{ width:42px; height:42px }
    .mobile-nav{ display:block; position:absolute; left:0; right:0; top:70px; background:#fff; box-shadow:0 12px 40px rgba(0,0,0,0.12); z-index:1200; padding:16px }
    /* nicer mobile nav: rounded top, larger items, scrollable */
    .mobile-nav{ top:56px; padding:12px; border-top-left-radius:12px; border-top-right-radius:12px; max-height: calc(100vh - 56px); overflow:auto }
    .mobile-nav nav{ display:flex; flex-direction:column; gap:10px }
    .mobile-nav a{ padding:12px 14px; border-radius:10px; text-decoration:none; color:#111; font-weight:800; font-size:16px }
}

.sale-link{ display:inline-flex; align-items:center; gap:8px; text-decoration:none; padding:4px 12px; border-radius:16px; background: var(--brand-red, #c62828); color:#fff; font-weight:900; box-shadow: 0 8px 20px rgba(198,40,40,0.12); margin-right:16px; transition: transform .14s ease, box-shadow .14s ease }
.sale-link:hover{ transform: translateY(-2px); box-shadow: 0 14px 30px rgba(198,40,40,0.14) }
.sale-icon{ display:inline-flex; width:18px; height:18px; border-radius:50%; background: rgba(255,255,255,0.12); color:#fff; align-items:center; justify-content:center; font-size:11px; font-weight:900 }

@keyframes sale-header-pulse{ 0%{ transform:scale(1) } 50%{ transform:scale(1.06) } 100%{ transform:scale(1) } }